<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head th:replace="layout :: site-head">
    <title>KSFX - Results</title>
</head>
<body>
<header th:replace="layout :: site-header"/>
<h1 th:inline="text">KSFX - Results for: [[${spideringConfiguration.name}]]</h1>

<div th:if="${resultsPage.totalPages  > 0}">
    <form id="filterInvalidResultsForm" action="#" th:action="@{/informationretrieval/result/{id}(id=${spideringConfiguration.id})}" method="post">
        <div class="form-check">
            <input type="checkbox" th:checked="${filterInvalidResults}" class="form-check-input" name="filterInvalidResults" id="filterInvalidResults" onchange="$('#filterInvalidResultsForm').submit();"/>
            <label for="filterInvalidResults" class="form-check-label">Filter Invalid Results</label>
        </div>
    </form>
    <div th:replace="components/pagination :: pagination(path='/informationretrieval/result/' + ${spideringConfiguration.id}, page=${resultsPage})"></div>

    <table class="table table-striped table-responsive-md">
        <thead>
        <header th:replace="components/sortable_table_header :: tableheader(headers=${ {'id','firstFound','lastFound','uriString','isValid','updated','siteIdentifierHash','data'} },sortables=${ {'id','firstFound','lastFound','isValid'} },names=${ {'ID','First Found','Last Found','URI String','Valid','Updated','Site Identifier Hash','Data'} },page=${resultsPage},path='/informationretrieval/result/' + ${spideringConfiguration.id})" />
        </thead>
        <tbody>
        <tr th:each="result : ${resultsPage.content}">
            <td th:text="${result.id}"></td>
            <td th:text="${result.firstFound}"></td>
            <td th:text="${result.lastFound}"></td>
            <td th:text="${result.uriString}"></td>
            <td th:text="${result.isValid}"></td>
            <td th:text="${result.updated}"></td>
            <td th:text="${result.siteIdentifierHash}"></td>
            <td th:utext="${result.formattedHtmlData}"></td>
        </tr>
        </tbody>
    </table>
</div>

<footer th:replace="layout :: site-footer" />
</body>
</html>