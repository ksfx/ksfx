<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head th:replace="layout :: site-head">
    <title>KSFX - Activities</title>
</head>
<body>
<header th:replace="layout :: site-header"/>
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a th:href="@{/informationretrieval/}">Information Retrieval</a></li>
        <li class="breadcrumb-item" th:inline="text">Spiderings for: [[${spideringConfiguration.name}]]</li>
    </ol>
</nav>

<div th:if="${spideringsPage.totalPages  > 0}">
    <div th:replace="components/pagination :: pagination(path='/informationretrieval/spideringsviewer/' + ${spideringConfiguration.id}, page=${spideringsPage})"></div>
    <table class="table table-striped table-responsive-md">
        <thead>
        <header th:replace="components/sortable_table_header :: tableheader(headers=${ {'id','started','finished','newresultcount','updatedresultcount','unchangedresultcount','resultcount','validresultcount','invalidcount','resourcescount','parsing','delete'} },sortables=${ {'id','started','finished'} },names=${ {'ID','Started','Finished','New Result Count','Updated Result Count','Unchanged Result Count','Result Count','Valid Result Count','Invalid Count','Resources Count','Parsing','Delete'} },page=${spideringsPage},path='/informationretrieval/spideringsviewer/' + ${spideringConfiguration.id})" />
        </thead>
        <tbody>
        <tr th:each="spidering : ${spideringsPage.content}">
            <td th:text="${spidering.id}"></td>
            <td th:text="${spidering.started}"></td>
            <td>
                <span th:if="!${spideringRunner.isSpideringRunning(spidering)}" th:inline="text">[[${spidering.finished}]]</span>
                <span th:unless="!${spideringRunner.isSpideringRunning(spidering)}" th:inline="text"><span class="fa fa-spinner fa-pulse fa-2x fa-fw"></span><a th:attr="data-href=@{/informationretrieval/spideringterminate/{id}(id=${spidering.id})}" data-toggle="modal" data-target="#standard-confirm" class="fa fa-times-circle-o" alt="Terminate Spidering" title="Terminate Spidering"></a></span>
            </td>
            <td th:text="${spidering.newResultCount}"></td>
            <td th:text="${spidering.updatedResultCount}"></td>
            <td th:text="${spidering.unchangedResultCount}"></td>
            <td th:text="${spidering.resultCount}"></td>
            <td th:text="${spidering.validResultCount}"></td>
            <td th:text="${spidering.invalidResultCount}"></td>
            <td><a th:href="@{/informationretrieval/resource/{id}(id=${spidering.id})}" th:inline="text">[[${spideringDAO.calculateResourcesCount(spidering)}]]</a></td>
            <td>
                <span th:if="!${parsingRunner.isParsingRunning(spidering)}" th:inline="text">
                    <a th:href="@{/informationretrieval/spideringrunparsing/{id}(id=${spidering.id})}" class="fa fa-play" alt="Start Parsing" title="Start Parsing"></a>
                </span>
                <span th:unless="!${parsingRunner.isParsingRunning(spidering)}" th:inline="text" style="white-space: nowrap;">
                    <span class="fa fa-spinner fa-pulse fa-2x fa-fw"></span>
                    <a th:attr="data-href=@{/informationretrieval/spideringterminateparsing/{id}(id=${spidering.id})}" data-toggle="modal" data-target="#standard-confirm" class="fa fa-times-circle-o" alt="Terminate Parsing" title="Terminate Parsing"></a>
                </span>
            </td>
            <td>
                <a th:attr="data-href=@{/informationretrieval/spideringdeletespidering/{id}(id=${spidering.id})}" data-toggle="modal" data-target="#standard-confirm" class="fa fa-trash-o" alt="Delete" title="Delete"></a>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<!-- <t:actionlink t:id="clearActivityInstances" class="glyphicon glyphicon-trash" title="Clear activity instances" alt="Clear activity instances"></t:actionlink> -->

<footer th:replace="layout :: site-footer" />
</body>
</html>