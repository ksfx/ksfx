<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head th:replace="layout :: site-head">
    <title>KSFX - System Logs</title>
</head>
<body>
<header th:replace="layout :: site-header"/>
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item">Admin</li>
        <li class="breadcrumb-item active">System Logs</li>
    </ol>
</nav>

<div class="container">
<form id="selectTagForm" action="#" th:action="@{/admin/systemlog/selecttag}" method="post" onchange="this.submit();">
<div class="form-group">
    <label for="selectedTag">Tag</label>
    <select class="form-control" id="selectedTag" name="selectedTag">
        <option th:value="0" text=""
                th:selected="(null == ${selectedTag})"></option>
        <option th:each="tag : ${availableTags}"
                th:value="${tag}"
                th:text="${tag}"
                th:selected="(${tag} == ${selectedTag})">
            Tag
        </option>
    </select>
</div>
</div>
</form>

    <div th:replace="components/pagination :: pagination(path='/admin/systemlog', page=${logMessagesPage})"></div>
    <div style="float:right"><a th:attr="data-href=@{/admin/systemlog/clearlogs}" data-toggle="modal" data-target="#standard-confirm" class="fa fa-trash-o fa-2x" title="Clear Logs" alt="Clear Logs"></a>&nbsp;&nbsp;&nbsp;</div>
    <table class="table table-striped table-responsive-md">
        <thead>
        <header th:replace="components/sortable_table_header :: tableheader(headers=${ {'id','date','tag','message','stacktrace'} },sortables=${ {'id','date','tag'} },names=${ {'ID','Date','Tag','Message','Stacktrace'} },page=${logMessagesPage},path='/admin/systemlog')" />
        </thead>
        <tbody>
        <tr th:each="logMessage : ${logMessagesPage.content}">
            <td th:text="${logMessage.id}"></td>
            <td th:text="${logMessage.date}"></td>
            <td th:text="${logMessage.tag}"></td>
            <td th:text="${logMessage.message}"></td>
            <td th:text="${logMessage.stackTrace}"></td>
        </tr>
        </tbody>
    </table>

<footer th:replace="layout :: site-footer" />
</body>
</html>